<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Animated Quiz with Restart Confetti</title>
<style>
body {
  font-family: 'Arial', sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
  animation: bgAnimation 15s infinite alternate;
  overflow: hidden;
}
@keyframes bgAnimation {0% {background-position: 0% 50%;} 100% {background-position: 100% 50%;}}
.quiz-container {
  background: #fff;
  padding: 25px 40px;
  border-radius: 15px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  text-align: center;
  width: 90%;
  max-width: 500px;
  animation: fadeIn 1s ease;
  position: relative;
  overflow: hidden;
}
@keyframes fadeIn {from {opacity:0; transform: translateY(-20px);} to {opacity:1; transform: translateY(0);}}
h1 {margin-bottom: 20px; color: #333; font-size: 24px;}
.progress-bar {background: #eee; border-radius: 20px; overflow: hidden; height: 10px; margin-bottom: 15px;}
#progress {background: #74ebd5; height: 100%; width: 0%; transition: width 0.5s ease;}
#timer {font-weight: bold; margin-bottom: 5px; color: #555;}
#countdown-bar {width: 100%; height: 6px; background: #eee; border-radius: 5px; overflow: hidden; margin-bottom: 10px;}
#countdown-fill {height: 100%; width: 100%; background: #ff6a88; transition: width 1s linear;}
#options button {
  display: block; width: 100%; margin: 10px 0; padding: 12px; border: none;
  border-radius: 12px; cursor: pointer; background: #ff6a88; color: #fff;
  font-weight: bold; font-size: 16px; transition: transform 0.3s, background 0.3s, opacity 0.5s;
  opacity: 0; transform: translateX(100%);
}
#options button:hover {background: #ff99ac; transform: scale(1.05);}
.correct {background-color: #4caf50 !important;}
.wrong {background-color: #f44336 !important;}
#result button {
  margin-top: 20px;
  padding: 12px 30px;
  border-radius: 25px;
  border: none;
  cursor: pointer;
  font-size: 16px;
  font-weight: bold;
  color: #fff;
  background: linear-gradient(135deg, #ff6a88, #ff99ac);
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
}
#result button:hover {
  transform: scale(1.1);
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  background: linear-gradient(135deg, #ff99ac, #ff6a88);
}
.hidden {display: none;}
@media (max-width:500px){.quiz-container{padding:20px;} h1{font-size:20px;} #options button{font-size:14px; padding:10px;} #result button{font-size:14px; padding:10px 20px;}}
canvas {position: fixed; top:0; left:0; pointer-events: none;}
#score-bar-container {width: 100%; background: #eee; border-radius: 20px; height: 20px; margin-top: 15px;}
#score-bar {width:0%; height:100%; background: #4caf50; border-radius: 20px; transition: width 2s ease;}
</style>
</head>
<body>
<canvas id="confetti"></canvas>
<div class="quiz-container">
<h1>Animated Quiz</h1>
<div class="progress-bar"><div id="progress"></div></div>
<div id="quiz">
<div id="timer">Time Left: <span id="time">30</span>s</div>
<div id="countdown-bar"><div id="countdown-fill"></div></div>
<div id="question"></div>
<div id="options"></div>
</div>
<div id="result" class="hidden">
<h2>Your Score: <span id="score"></span></h2>
<div id="score-bar-container"><div id="score-bar"></div></div>
<button onclick="restartQuiz()">Restart Quiz</button>
</div>

<script>
const quizData = [
{question:"Which language runs in a web browser?", options:["Java","C","Python","JavaScript"], answer:"JavaScript"},
{question:"What does CSS stand for?", options:["Central Style Sheets","Cascading Style Sheets","Cascading Simple Sheets","Creative Style System"], answer:"Cascading Style Sheets"},
{question:"Which HTML tag is used to define a paragraph?", options:["<p>","<div>","<span>","<a>"], answer:"<p>"},
{question:"Which is a backend language?", options:["HTML","CSS","Python","React"], answer:"Python"},
{question:"Full form of SQL?", options:["Structured Query Language","Simple Query Language","Structured Question Language","None"], answer:"Structured Query Language"},
{question:"Tag for images in HTML?", options:["<img>","<image>","<pic>","<src>"], answer:"<img>"},
{question:"JavaScript framework?", options:["Django","Flask","React","Laravel"], answer:"React"},
{question:"HTML attribute for alternate text?", options:["alt","src","title","text"], answer:"alt"},
{question:"Symbol for JS comments?", options:["//","<!-- -->","/* */","#"], answer:"//"},
{question:"React developed by?", options:["Google","Facebook","Microsoft","Twitter"], answer:"Facebook"}
];

let currentQuiz=0, score=0, time=30, timer;
const questionEl=document.getElementById('question');
const optionsEl=document.getElementById('options');
const resultEl=document.getElementById('result');
const scoreEl=document.getElementById('score');
const progressEl=document.getElementById('progress');
const timeEl=document.getElementById('time');
const countdownFill=document.getElementById('countdown-fill');
const scoreBar=document.getElementById('score-bar');

// Timer function
function startTimer(){
  time=30; timeEl.innerText=time; countdownFill.style.width='100%';
  timer=setInterval(()=>{
    time--; timeEl.innerText=time;
    countdownFill.style.width=(time/30*100)+'%';
    if(time===0){ clearInterval(timer); autoNext(); }
  },1000);
}

// Load quiz question and options
function loadQuiz(){
  clearInterval(timer);
  startTimer();
  const current = quizData[currentQuiz];
  questionEl.innerText = current.question;
  optionsEl.innerHTML = '';

  current.options.forEach((opt,index)=>{
    const btn = document.createElement('button');
    btn.innerText = opt;
    btn.disabled = false;
    optionsEl.appendChild(btn);

    // Slide-in animation with stagger
    setTimeout(()=>{btn.style.opacity='1'; btn.style.transform='translateX(0)';}, 100*index);

    btn.addEventListener('click', ()=> selectOption(btn,current.answer));
  });

  progressEl.style.width = `${(currentQuiz/quizData.length)*100}%`;
}

// Handle option selection
function selectOption(btn, answer){
  clearInterval(timer);
  const buttons = optionsEl.querySelectorAll('button');
  buttons.forEach(b=>{
    if(b.innerText===answer) b.classList.add('correct');
    else if(b===btn) b.classList.add('wrong');
    b.disabled = true;
  });
  if(btn.innerText === answer) score++;
  setTimeout(()=>nextQuestion(),1000);
}

// Auto next if timer ends
function autoNext(){
  const buttons = optionsEl.querySelectorAll('button');
  buttons.forEach(b=>{
    if(b.innerText===quizData[currentQuiz].answer) b.classList.add('correct');
    b.disabled = true;
  });
  setTimeout(()=>nextQuestion(),1000);
}

// Move to next question or show result
function nextQuestion(){
  currentQuiz++;
  if(currentQuiz < quizData.length) loadQuiz();
  else showResult();
}

// Show final result
function showResult(){
  document.getElementById('quiz').classList.add('hidden');
  resultEl.classList.remove('hidden');
  scoreEl.innerText = `${score} / ${quizData.length}`;
  scoreBar.style.width='0%';
  setTimeout(()=>{scoreBar.style.width=`${(score/quizData.length)*100}%`;},100);
  launchConfetti();
  progressEl.style.width='100%';
}

// Restart quiz with small confetti burst
function restartQuiz(){
  for(let i=0;i<50;i++){
    confetti.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height/2,
      r: Math.random()*6+4,
      d: Math.random()*150+50,
      color: `hsl(${Math.random()*360},100%,50%)`,
      tilt: Math.random()*10-10
    });
  }
  animateConfetti();
  setTimeout(()=>{confetti=[]; ctx.clearRect(0,0,canvas.width,canvas.height);},2000);

  currentQuiz=0; score=0;
  document.getElementById('quiz').classList.remove('hidden');
  resultEl.classList.add('hidden');
  loadQuiz();
}

// Confetti animation
const canvas=document.getElementById('confetti'); 
const ctx=canvas.getContext('2d'); 
let confetti=[];
function resizeCanvas(){canvas.width=window.innerWidth; canvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas); resizeCanvas();

function launchConfetti(){
  for(let i=0;i<150;i++){
    confetti.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height-canvas.height, r:Math.random()*6+4, d:Math.random()*150+50, color:`hsl(${Math.random()*360},100%,50%)`, tilt:Math.random()*10-10});
  }
  animateConfetti();
  setTimeout(()=>{confetti=[]; ctx.clearRect(0,0,canvas.width,canvas.height);},5000);
}

function drawConfetti(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  confetti.forEach(c=>{
    ctx.beginPath();
    ctx.lineWidth=c.r/2;
    ctx.strokeStyle=c.color;
    ctx.moveTo(c.x+c.tilt+c.r/4,c.y);
    ctx.lineTo(c.x+c.tilt,c.y+c.tilt+c.r/4);
    ctx.stroke();
  });
  updateConfetti();
}

function updateConfetti(){
  confetti.forEach(c=>{
    c.y+=Math.cos(c.d)+2+c.r/2;
    c.x+=Math.sin(c.d);
    if(c.y>canvas.height) c.y=-10;
  });
}

function animateConfetti(){if(confetti.length>0){drawConfetti(); requestAnimationFrame(animateConfetti);}}

loadQuiz();
</script>
</body>
</html>




